<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<link rel="apple-touch-icon" sizes="114x114" href="images/splash/splash-icon.png"> 
<link rel="apple-touch-startup-image" href="images/splash/splash-screen.png" media="screen and (max-device-width: 320px)" /> 
<link rel="apple-touch-startup-image" href="images/splash/splash-screen@2x.png" media="(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)" /> 
<meta name="apple-mobile-web-app-capable" content="yes"/>


<title>Kudos Feed</title>
<link href="styles/style.css" rel="stylesheet" type="text/css">
<link href="styles/buttons.css" rel="stylesheet" type="text/css">
<link href="styles/retina.css" media="only screen and (-webkit-min-device-pixel-ratio: 2)" rel="stylesheet" />
<link href="styles/slider.css" rel="stylesheet" type="text/css">
<link href="styles/photoswipe.css" rel="stylesheet" type="text/css">

<script src="scripts/jquery.js"></script>
<script src="scripts/contact.js"></script>
<script src="scripts/swipe.js"></script>
<script src="scripts/klass.min.js"></script>
<script src="scripts/photoswipe.js"></script>
<script src="scripts/retina.js"></script>
<script src="scripts/custom.js"></script>

</head>

<body>

<div class="header" style="text-align: center;">
	    <a href="index.html"><img class="" src="/images/logo.png" alt="img"></a>
</div>

<div class="clear"></div>

<div class="container" data-bind="foreach: feedItems">
	<div class="icon-column" onclick="gotoMock" ontouchstart="gotoMock">
        <pre style="display:none" data-bind="text: console.log($data)"></pre>
        <div class="avatar-img">
            <img class="avatar-img" width="50" alt="img"
                data-bind="attr: {src: user.user_pic_url}">
        </div>
        <div class="nom-desc">
            <p data-bind="text: nomination_description_long"></p>
        </div>
        <div class="badge-img">
            <img class="badge-img" width="50" alt="img"
                data-bind="attr: {src: badge.badge_url}">
        </div>
    </div>
    <div class="clear"></div>
	<div class="decoration"></div>
</div>
<script type='text/javascript' src='scripts/jquery-2.1.1.min.js'></script>
<script type='text/javascript' src='scripts/knockout-3.2.0.js'></script>
<script type='text/javascript' src='Backend/Backend/Scripts/moment.js'></script>
<script type='text/javascript' src='Backend/Backend/Scripts/kudos.js'></script>
<script>
    function gotoMock() {
        console.log('WORKING');
        window.location.replace('//www.dropbox.com/s/u0v3nua76p31m20/Nomination_Page.png');
    }

    var feedies = [{
            "nomination_id": 2,
            "user": {
                "user_id": 2,
                "user_first_name": "Bryan",
                "user_last_name": "Stadick",
                "user_name": "Bryan Stadick",
                "email": "Bryan@kudos.com",
                "user_pic_url": "http://www.finmap-fp7.eu/no_pic.png"
            },
            "badge": {
                "badge_id": "abcd123456789",
                "badge_name": "Debugging Badge",
                "badge_description": "Awarded for debugging your code",
                "badge_url": "http://waynesword.palomar.edu/images/rainbe1b.jpg"
            },
            "organization_id": "123456789abcd",
            "nomination_description_short": "Bryan came, saw, and debugged.",
            "nomination_description_long": "This description is slightly longer than the previous description.",
            "ratings": [],
            "vote_count": 0,
            "req_vote_count": 50,
            "timestamp": "9/27/2014 2:35:26 PM"
        }, {
            "nomination_id": 3,
            "user": {
                "user_id": 3,
                "user_first_name": "Bryan",
                "user_last_name": "Stadick",
                "user_name": "Bryan Stadick",
                "email": "Bryan@kudos.com",
                "user_pic_url": "http://www.finmap-fp7.eu/no_pic.png"
            },
            "badge": {
                "badge_id": "abcd123456789",
                "badge_name": "Debugging Badge",
                "badge_description": "Awarded for debugging your code",
                "badge_url": "http://waynesword.palomar.edu/images/rainbe1b.jpg"
            },
            "organization_id": "123456789abcd",
            "nomination_description_short": "Bryan came, saw, and debugged.",
            "nomination_description_long": "This description is slightly longer than the previous description.",
            "ratings": [],
            "vote_count": 0,
            "req_vote_count": 50,
            "timestamp": "9/27/2014 2:35:28 PM"
        }];
    var viewModelGenerator = function() {
        var viewModel = this;
        viewModel.feedItems = ko.observableArray(feedies); 
    };
    var viewModel = new viewModelGenerator();
    ko.applyBindings(viewModel);
    getFeedPast();

    (function() {
        // Hack to simulate data
        window.setInterval(function() {
            //viewModel.feedItems.unshift(viewModel.feedItems()[0]);
            getFeed()
        }, 5000);
    })();
</script>

<div class="navigation">
	<div class="navigation-wrapper">
    <a href="index.html" class="navigation-item">
    	<img class="selected replace-2x" width="9" src="images/nav/selected.png" alt="img">
        <img src="images/nav/info.png" width="21" class="replace-2x" alt="img">
    </a>
    <a href="nominate.html" class="navigation-item">
    	<img src="images/nav/message.png" width="21" class="replace-2x" alt="img">
    </a>
    <a href="portfolio.html" class="navigation-item">
    	<img src="images/nav/portfolio.png" width="21" class="replace-2x" alt="img">
    </a>
    </div>
</div>


<div style="height:50px;"></div>

</body>
</html>
